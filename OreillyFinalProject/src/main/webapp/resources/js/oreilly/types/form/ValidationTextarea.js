//>>built
define("oreilly/types/form/ValidationTextarea",["dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/i18n","dijit/form/ValidationTextBox","dijit/form/_ExpandingTextAreaMixin"],function(_1,_2,_3,_4,_5,_6){return _1("oreilly.types.form.ValidationTextarea",[_5,_6],{cols:"",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:"[\"&\\u0027\r\n0-9a-zA-Z .,'!?:/()-@#$%*&]+",invalidMessage:"Invalid character entered. Valid characters are alphanumeric and .,'!?:/()-@#$%*&.",regExp:"",templateString:"<div data-dojo-attach-point='containerNode' class=\"dijit dijitReset dijitInline dijitLeft dijitInputContainer\" id=\"widget_${id}\" role=\"presentation\"\n\t>"+"<textarea ${!nameAttrSetting} class='dijitInputInner' data-dojo-attach-point='textbox,focusNode' autocomplete='off'></textarea></div>",placeHolder:"Please enter your data",buildRendering:function(){this.inherited(arguments);var _7=_2.getComputedStyle(this.domNode);_2.set(this.textbox,{overflowY:"hidden",overflowX:"auto",maxWidth:"100%",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});_2.set(this.containerNode,{width:"100%",height:"100%",padding:"0px",margin:"0px"});_2.set(this.textbox,{width:"100%",height:"100%",padding:"0px",margin:"0px",border:"0px"});},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_3.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.focused&&!this.textbox.value)?"":"none";}},_determineState:function(){var _8=false;var _9=this.disabled||this.isValid(_8);if(_9){this._maskValidSubsetError=true;}var _a=this._isEmpty(this.textbox.value);var _b=!_9&&_8&&this._isValidSubset();this._set("state",_9?"":((((!this._hasBeenBlurred||_8)&&_a)||_b)?"Incomplete":"Error"));this._updatePlaceHolder();},validate:function(){var _c=this.inherited(arguments);this._set("state",_c?"":"Error");this._updatePlaceHolder();},_setValueAttr:function(_d,_e,_f){this.inherited(arguments);if((this.textbox.value)&&(this.containerNode.lastChild.nodeType==3)){this.containerNode.removeChild(this.containerNode.lastChild);}this._determineState();this.resize();},startup:function(){this.inherited(arguments);this._determineState();},postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},_onInput:function(){if(this.maxLength){var _10=parseInt(this.maxLength);var _11=this.textbox.value.replace(/\n/g,"\n\r").length-_10;var _12=this.textbox.value;if(_11>0){var _13=this.textbox;if(_13.selectionStart){var pos=_13.selectionStart;var cr=0;this.textbox.value=_12.substring(0,pos-_11-cr)+_12.substring(pos-cr);_13.setSelectionRange(pos-_11,pos-_11);}else{if(this.ownerDocument.selection){_13.focus();var _14=this.ownerDocument.selection.createRange();_14.moveStart("character",-_11);_14.text="";_14.select();}}}}this.inherited(arguments);this.validate(this.focused);}});});