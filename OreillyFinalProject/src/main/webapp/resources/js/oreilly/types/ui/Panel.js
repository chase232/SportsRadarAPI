//>>built
define("oreilly/types/ui/Panel",["dojo/_base/declare","dojo/_base/lang","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/dom-class","dojo/on","dojo/topic","dojo/Evented"],function(_1,_2,_3,_4,_5,on,_6,_7){var _8="/toggle",_9="expand",_a="collapse";return _1("oreilly/types/ui/Panel",[_3,_4,_7],{expandLabel:"-",removeLabel:"Remove Link",secondActionLabel:"Do Link",templateString:""+"<div class=\"panel panel-default ${baseClass}\" data-parentid=\"${parentId}\" data-panelid=\"${id}\">"+"<div class=\"panel-heading\">"+"<a href=\"#\" data-dojo-attach-point=\"expandLink\">"+"<span data-dojo-attach-point=\"glyphicon\" class=\"glyphicon glyphicon-chevron-up\"></span> <span data-dojo-attach-point=\"expandLabelSpan\">${expandLabel}</span>"+"</a>"+"<a href=\"#\" class=\"secondary-info\" data-dojo-attach-point=\"removeLink\">${removeLabel}</a>"+"</div>"+"<div class=\"panel-body\" data-dojo-attach-point=\"panelBody\">"+"<div data-dojo-attach-point=\"body\">"+"<div class=\"spinner-light\"></div>"+"</div>"+"</div>"+"<div class=\"panel-footer hide\" data-dojo-attach-point=\"panelFooter\">"+"<a href=\"#\" data-dojo-attach-point=\"removeLinkFooter\">${removeLabel}</a>"+"<a href=\"#\" data-dojo-attach-point=\"secondaryAction\">${secondActionLabel}</a>"+"</div>"+"</div>",baseClass:"oreilly-panel",bodyWidget:null,showFooter:false,parentId:"",value:null,handles:{},readOnly:false,expand:function(){if(!_5.contains(this.panelBody,"hidden")){return;}_5.remove(this.panelBody,"hidden");_5.add(this.glyphicon,"glyphicon-chevron-up");_5.remove(this.glyphicon,"glyphicon-chevron-down");on.emit(this,this.parentId+_8,{id:this.id,action:_9});},collapse:function(){if(_5.contains(this.panelBody,"hidden")){return;}_5.add(this.panelBody,"hidden");_5.remove(this.glyphicon,"glyphicon-chevron-up");_5.add(this.glyphicon,"glyphicon-chevron-down");on.emit(this,this.parentId+_8,{id:this.id,action:_a});},changeTitle:function(_b){this.expandLabelSpan.innerHTML=_b;},postCreate:function(){var _c=this,_d=this.bodyWidget,_e;if(_c.showFooter){_5.remove(_c.showFooter,"hidden");}_c.handles.changeTitle=_6.subscribe("panel/title/"+_c.id,function(_f){var _10=_2.trim(""+_f);_c.changeTitle(_10!==""?_10:_c.expandLabel);});_c.own(on(_c.removeLink,"click",function(e){e.preventDefault();_6.publish("panel/remove/"+_c.parentId,_c.id);}),on(_c.removeLinkFooter,"click",function(e){e.preventDefault();_6.publish("panel/remove/"+_c.parentId,_c.id);}),on(_c.expandLink,"click",function(e){e.preventDefault();_6.publish("panel/hideall/"+_c.parentId,null,_c.id);_c.expand();}),_c.handles.changeTitle);if(_c.readOnly){_5.add(_c.removeLink,"hidden");_5.add(_c.panelFooter,"hidden");}else{_5.remove(_c.removeLink,"hidden");_5.remove(_c.panelFooter,"hidden");}if(_d){_e={parentId:_c.parentId,panelId:_c.id,id:_c.id+"-body",data:_c.data,objectId:_c.objectId,messages:_c.messages||{}};if(typeof _d=="function"){_c.body=new _d(_e,_c.body);}else{(function(_11,_12,_13){require([_11],function(_14){_13.body=new _14(_12,_13.body);});}(_d,_e,_c));}}},_getValueAttr:function(){return this.body.get?this.body.get("value"):"";},_setValueAttr:function(_15){this.body.set("value",_15);},_setReadOnlyAttr:function(_16){this.readOnly=_16;if(_16){_5.add(this.removeLink,"hidden");_5.add(this.panelFooter,"hidden");}else{_5.remove(this.removeLink,"hidden");_5.remove(this.panelFooter,"hidden");}this.body.set("readOnly",_16);}});});