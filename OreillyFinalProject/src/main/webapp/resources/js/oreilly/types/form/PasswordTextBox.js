//>>built
require({cache:{"url:oreilly/types/form/templates/PasswordTextBox.html":"<div class=\"dijit password\" id=\"widget_${id}\" role=\"presentation\">\r\n    <input data-dojo-attach-point=\"inputBox,textbox,focusNode\" type=\"text\"/>\r\n    <input data-dojo-attach-point=\"inputBoxHidden\" type=\"text\" class=\"hidden\"/>\r\n    <p class=\"hidden form-control-bottom nobottommargin\" data-dojo-attach-point=\"inputSpan\">&nbsp;</p>\r\n    <label>\r\n        <input data-dojo-attach-point=\"checkedPwd\" type=\"checkbox\"/> <span data-dojo-attach-point=\"showPwdSpan\"></span>\r\n    </label>\r\n</div>"}});define("oreilly/types/form/PasswordTextBox",["dojo/_base/declare","dojo/parser","dojo/on","dijit/registry","dojox/html/entities","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/_base/lang","dijit/form/TextBox","dijit/form/ValidationTextBox","dojo/dom-class","dojo/text!./templates/PasswordTextBox.html","dojo/ready","dojo/keys"],function(_1,_2,on,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){var _e=new RegExp(".","g"),_f="•",_10=" ",_11=new RegExp(" ","g"),_12=new RegExp(_f,"g");function _13(){var _14=this.get("value");_14=_14.replace(_e,_f);this.set("_onChangeActive",false);this.set("value",_14,false);this.set("_onChangeActive",true);};function _15(_16,_17,end){var _18=this.get("value"),cwt=[],_19;_19=_18.replace(_12,"");if(_19.length>0){cwt=_16.currentText.split("");cwt.splice.apply(cwt,[_17,0].concat(new Array(_19.length)));_18=_18.split("");cwt=_18.map(function(_1a,ix){if(_1a===_f){return cwt[ix];}return _18[ix];});_16.currentText=cwt.join("");}else{if(_18.length<_16.currentText.length){cwt=_16.currentText.split("");cwt.splice(this.textbox.selectionStart,_16.currentText.length-_18.length);_16.currentText=cwt.join("");}}if(_18.length<_16.currentText.length){cwt=_16.currentText.split("");cwt.splice(_17<_18.length?_17:_18.length,_16.currentText.length-_18.length);_16.currentText=cwt.join("");}_16.inputSpan.innerHTML=_4.encode(_16.currentText).replace(_11,_10);this.validate();};return _1("oreilly.types.form.PasswordTextBox",[_5,_6,_8],{templateString:_b,other:null,currentText:"",checkboxText:"Show Password",_getValueAttr:function(){return this.currentText;},_setValueAttr:function(_1b){var _1c=this;_1c.inputWidget.set("_onChangeActive",false);_1c.inputWidget.set("value",_1b,false);_1c.inputWidget.set("_onChangeActive",true);_15.apply(_1c.inputWidget,[_1c,_1c.inputWidget.textbox.selectionStart,_1c.inputWidget.textbox.selectionEnd]);_13.apply(_1c.inputWidget);},validate:function(){var _1d=this.inputWidgetHidden.validate(arguments);if(!_1d){this.inputWidget._set("state","Error");}return _1d;},constructor:function(){this.args=arguments;this.constraints=_7.clone(this.constraints);this.baseClass="dijit password";},focus:function(){this.inputWidget.focus();},set:function(_1e,_1f){if(this.inputWidgetHidden){this.inputWidgetHidden.set(_1e,_1f);}this.inherited(arguments);},postCreate:function(){var _20=this,_21=_20.args[0],_22=0,end=0,id=_21.id,_23=_21["class"]||"";_a.remove(this.domNode,"form-control");_21.id=id+"innerPwdHidden";_21["class"]="hidden";_21.type="text";_21.intermediateChanges=true;_20.inputWidgetHidden=new _9(_20.args[0],_20.inputBoxHidden);_21["class"]=_23;_21.id=id+"innerPwd";delete _21.name;_20.inputWidget=new _9(_20.args[0],_20.inputBox);_20.showPwdSpan.innerHTML=_20.checkboxText;_20.inputWidget._isValidSubset=function(){return _20.inputWidgetHidden._isValidSubset();};_20.inputWidget.validator=function(){var _24;_20.inputWidgetHidden.set("value",_20.currentText);if(!_20.inputWidgetHidden.validate()){return false;}if(_20.other){_24=_3.byId(_20.other);if(!_24){return true;}if(_24.get("value")===""){return true;}if(_24.get("value")!==_20.get("value")){this.set("invalidMessage","Values doesn't match!");return false;}else{_24.inputWidget._set("state","");}}return true;};_20.inherited(arguments);on(_20.checkedPwd,"click",function(e){if(this.checked){_a.add(_20.inputWidget.domNode,"form-control-top");_a.remove(_20.inputSpan,"hidden");}else{_a.remove(_20.inputWidget.domNode,"form-control-down");_a.add(_20.inputSpan,"hidden");}});on(_20.inputWidget,"blur",function(e){_13.apply(this);});on(_20.inputWidget,"keyDown",function(e){var _25=this.get("value"),_26=_25.replace(_e,_f),_27;_22=this.textbox.selectionStart;end=this.textbox.selectionEnd;this.set("_onChangeActive",false);this.set("value",_26,false);this.set("_onChangeActive",true);_27=e.keyCode;switch(_27){case _d.SHIFT:case _d.ALT:case _d.CTRL:case _d.META:case _d.CAPS_LOCK:case _d.NUM_LOCK:case _d.SCROLL_LOCK:case _d.LEFT_ARROW:case _d.UP_ARROW:return;}this.textbox.setSelectionRange(_22,end);});on(_20.inputWidget,"change",function(e){_15.apply(this,[_20,_22,end]);});_a.remove(this.domNode,"dijitTextBox");}});});