//>>built
define("dbind/navigation",["dojo/when"],function(_1){var _2=function(_3,_4){_4=_4||{};var _5=_4.store;var _6=_4.prefix||"";var _7=_4.usePushState;var _8;_3.receive(function(_9){var id=_5.getIdentity(_9);if(id!==undefined){_8=_6+id;if(_7){if(location.pathname!=_8){location.pushState(_8);}}else{if(location.hash!=_8){location.hash=_8;}}}});addEventListener("hashchange",_a,false);_a();function _a(){var _b=_7?location.pathname:location.hash;if(_b.charAt(0)=="#"){_2.path=_b=_b.slice(1);}if(_8!=_b){if(_b.slice(0,_6.length)==_6){_1(_5.get(_b.slice(_6.length)),function(_c){if(_c){_3.put(_c);}});}}};return _3;};return _2;});