//>>built
define("bootstrap/Tooltip",["./Support","dojo/_base/declare","dojo/query","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/on","dojo/mouse","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/html","dojo/NodeList-dom","dojo/NodeList-manipulate","dojo/NodeList-traverse","dojo/domReady!"],function(_1,_2,_3,_4,_5,_6,on,_7,_8,_9,_a,_b,_c,_d){"use strict";var _e="[data-toggle=tooltip]";var _f=_2("Tooltip",null,{defaultOptions:{animation:true,placement:"top",selector:false,template:"<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>",trigger:"hover focus",title:"",delay:0,html:false,container:false},constructor:function(_10,_11){this.init("tooltip",_10,_11);},init:function(_12,_13,_14){var _15=this,_16,_17,_18=function(){_15.hide(false);};this.domNode=_13;this.type=_12;this.options=this.getOptions(_14);this.enabled=true;var _19=this.options.trigger.split(" ");for(var i=_19.length;i--;){var _1a=_19[i];if(_1a==="click"){_3(this.domNode).parents(".modal").on("hide",_18);if(this.options.selector){this.eventActivate=on(this.domNode,on.selector(this.options.selector,"click"),_4.hitch(this,"toggle"));}else{this.eventActivate=on(this.domNode,"click",_4.hitch(this,"toggle"));}}else{if(_1a!=="manual"){_16=_1a==="hover"?_7.enter:"focusin";_17=_1a==="hover"?_7.leave:"focusout";if(this.options.selector){_16=on.selector(this.options.selector,_16);_17=on.selector(this.options.selector,_17);}this.eventActivate=on(this.domNode,_16,_4.hitch(_15,"enter"));this.eventDeactivate=on(this.domNode,_17,_4.hitch(_15,"leave"));}}}if(this.options.selector){(this._options=_4.mixin({},_4.mixin(_4.clone(this.options),{trigger:"manual",selector:""})));}else{this.fixTitle();}},getOptions:function(_1b){_1b=_4.mixin({},_4.mixin(_4.clone(this.defaultOptions),_4.mixin(_1b,_1.getData(this.domNode))));if(_1b.delay&&typeof _1b.delay==="number"){_1b.delay={show:_1b.delay,hide:_1b.delay};}return _1b;},getDelegateOptions:function(){var _1c={},_1d=this.defaultOptions;if(this._options){_5.forEach(this._options,function(key,_1e){if(_1d[key]!==_1e){_1c[key]=_1e;}});}return _1c;},enter:function(e){var _1f=_1.getData(e.target,"bs."+this.type);if(!_1f){_3(e.target)[this.type](this.getDelegateOptions());_1f=_1.getData(e.target,"bs."+this.type);}_1f&&_1f.timeout&&clearTimeout(_1f.timeout);if(_1f){if(!_1f.options.delay||!_1f.options.delay.show){return _1f.show();}_1f.hoverState="in";_1f.timeout=setTimeout(function(){if(_1f.hoverState==="in"){_1f.show();}},_1f.options.delay.show);}return _1f;},leave:function(e){var _20=_1.getData(e.target,"bs."+this.type);if(!_20){_3(e.target)[this.type](this.getDelegateOptions());_20=_1.getData(e.target,"bs."+this.type);}_20&&_20.timeout&&clearTimeout(this.timeout);if(_20){if(!_20.options.delay||!_20.options.delay.hide){return _20.hide();}_20.hoverState="out";_20.timeout=setTimeout(function(){if(_20.hoverState==="out"){_20.hide();}},_20.options.delay.hide);}return this;},show:function(_21){var _22=this,tip,_23,pos,_24,_25,_26,tp,_27,_28;_21=_21||true;if(this.hasContent()&&this.enabled){on.emit(this.domNode,"show.bs."+this.type,{bubbles:false,cancelable:false});tip=this.tip();this.setContent();if(this.options.animation===true){_8.add(tip,"fade");}_26=typeof this.options.placement==="function"?this.options.placement.call(this,tip,this.domNode):this.options.placement;var _29=/\s?auto?\s?/i,_2a=_29.test(_26);if(_2a){_26=_26.replace(_29,"")||"top";}_3(tip).remove().addClass(_26);_a.set(tip,{top:0,left:0,display:"block"});_1.setData(tip,"bs."+this.type,this);if(this.options.container){if(this.options.container==="body"){this.options.container=window.document.body;}_c.place(tip,this.options.container);}else{_c.place(tip,this.domNode,"after");}pos=this.getPosition();_24=tip.offsetWidth;_25=tip.offsetHeight;if(_2a){var _2b=this.domNode.parentNode,_2c=_b.position(_2b,true),_2d=document.documentElement.scrollTop||document.body.scrollTop,_2e=_26,_2f=this.options.container==="body"?window.innerWidth:_2c.w,_30=this.options.container==="body"?window.innerHeight:_2c.h,_31=this.options.container==="body"?0:_2c.x;_26=_26==="bottom"&&pos.y+pos.height+_25-_2d>_30?"top":_26==="top"&&pos.y-_2d-_25<0?"bottom":_26==="right"&&(pos.x+pos.w)+_24>_2f?"left":_26==="left"&&pos.x-_24<_31?"right":_26;_8.remove(tip,_2e);_8.add(tip,_26);}_28=this.getCalculatedOffset(_26,pos,_24,_25);this.applyPlacement(_28,_26);this.hoverState=null;var _32=function(){on.emit(_22.domNode,"shown.bs."+_22.type,{bubbles:false,cancelable:false});};if(_1.trans&&_8.contains(tip,"fade")&&_21){on.once(tip,_1.trans.end,function(){_32();});}else{_32();}}},hide:function(_33){var _34=this,tip=this.tip();_33=_33||true;on.emit(this.domNode,"hide.bs."+this.type,{bubbles:false,cancelable:false});_8.remove(tip,"in");function _35(){var _36=setTimeout(function(){_34.hideEvent.remove();},500);_34.hideEvent=on.once(tip,_1.trans.end,function(){clearTimeout(_36);_37();});};function _37(){_c.destroy(tip);_34.tipNode=null;on.emit(_34.domNode,"hidden.bs."+_34.type,{bubbles:false,cancelable:false});};if(_1.trans&&_8.contains(tip,"fade")&&_33){_35();}else{_37();}return this;},getCalculatedOffset:function(_38,pos,_39,_3a){return _38==="bottom"?{y:pos.y+pos.h,x:pos.x+pos.w/2-_39/2}:_38==="top"?{y:pos.y-_3a,x:pos.x+pos.w/2-_39/2}:_38==="left"?{y:pos.y+pos.h/2-_3a/2,x:pos.x-_39}:{y:pos.y+pos.h/2-_3a/2,x:pos.x+pos.w};},applyPlacement:function(_3b,_3c){var _3d,_3e,_3f,tip=this.tip(),_40=tip.offsetWidth,_41=tip.offsetHeight,_42=parseInt(_a.get(tip,"margin-top"),10),_43=parseInt(_a.get(tip,"margin-left"),10);if(isNaN(_42)){_42=0;}if(isNaN(_43)){_43=0;}_3b.y=_3b.y+_42;_3b.x=_3b.x+_43;_1.setOffset(tip,_4.mixin({using:function(_44){_a.set(tip,{top:Math.round(_44.y)+"px",left:Math.round(_44.x)+"px"});}},_3b),0);_8.add(tip,"in");_3e=tip.offsetWidth;_3f=tip.offsetHeight;if(_3c==="top"&&_3f!==_41){_3d=true;_3b.y=_3b.y+_41-_3f;}if(/bottom|top/.test(_3c)){var _45=0;if(_3b.x<0){_45=_3b.x*-2;_3b.x=0;_3(tip).offset(_3b);_3e=tip.offsetWidth;}this.replaceArrow(_45-_40+_3e,_3e,"left");}else{this.replaceArrow(_3f-_41,_3f,"top");}if(_3d){_3(tip).offset(_3b);}},replaceArrow:function(_46,_47,_48){_a.set(this.arrow(),_48,_46?(50*(1-_46/_47)+"%"):"");},setContent:function(){var tip=this.tip();var _49=this.getTitle();_3(".tooltip-inner",tip)[this.options.html?"html":"text"](_49);_8.remove(tip,"fade in top bottom left right");},hasContent:function(){return this.getTitle();},fixTitle:function(){if(_9.get(this.domNode,"title")||typeof (_9.get(this.domNode,"data-original-title"))!=="string"){_9.set(this.domNode,"data-original-title",_9.get(this.domNode,"title")||"");_9.remove(this.domNode,"title");}},getTitle:function(){return _9.get(this.domNode,"data-original-title")||(typeof this.options.title==="function"?this.options.title.call(this.domNode):this.options.title);},getPosition:function(){var el=this.domNode,pos={};if(typeof el.getBoundingClientRect==="function"){var _4a=el.getBoundingClientRect();pos.w=_4a.width;pos.h=_4a.height;pos.y=_4a.top;pos.x=_4a.left;pos.b=_4a.bottom;pos.r=_4a.right;}else{pos.w=el.offsetWidth;pos.h=el.offsetHeight;}return _4.mixin({},pos,_3(el).offset());},tip:function(){this.tipNode=this.tipNode?this.tipNode:_c.toDom(this.options.template);return this.tipNode;},arrow:function(){this.arrowNode=this.arrowNode?this.arrowNode:_3(".tooltip-arrow",this.tip())[0];return this.arrowNode;},validate:function(){if(!this.domNode.parentNode){this.hide(false);this.domNode=null;this.options=null;}},enable:function(){this.enabled=true;},disable:function(){this.enabled=false;},toggleEnabled:function(){this.enabled=!this.enabled;},toggle:function(){this[_8.contains(this.tip(),"in")?"hide":"show"]();},destroy:function(){this.hide();if(this.eventActivate){this.eventActivate.remove();}if(this.eventDeactivate){this.eventDeactivate.remove();}_1.removeData(this.domNode,"tooltip");}});_4.extend(_3.NodeList,{tooltip:function(_4b){var _4c=(_4.isObject(_4b))?_4b:{};return this.forEach(function(_4d){var _4e=_1.getData(_4d,"bs.tooltip");if(!_4e){_1.setData(_4d,"bs.tooltip",(_4e=new _f(_4d,_4c)));}if(_4.isString(_4b)){_4e[_4b].call(_4e);}});}});_3(_e).tooltip();return _f;});