//>>built
define("bootstrap/Affix",["./Support","dojo/_base/declare","dojo/query","dojo/_base/lang","dojo/_base/window","dojo/on","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dojo/dom-style","dojo/dom-geometry","dojo/NodeList-dom","dojo/NodeList-traverse","dojo/domReady!"],function(_1,_2,_3,_4,_5,on,_6,_7,_8,_9,_a){"use strict";var _b="[data-spy=affix]";var _c=_2([],{defaultOptions:{offset:0},constructor:function(_d,_e){this.options=_4.mixin(_4.clone(this.defaultOptions),(_e||{}));this.domNode=_d;on(_5.global,"scroll",_4.hitch(this,"checkPosition"));on(_5.global,"click",_4.hitch(this,(function(){setTimeout(_4.hitch(this,"checkPosition"),1);})));this.checkPosition();},checkPosition:function(){if(_9.get(this.domNode,"display")==="none"){return;}var _f=_a.position(this.domNode,false),_10=_5.doc.height,_11=_5.global.scrollY,_12=this.options.offset,_13="affix affix-top affix-bottom",_14,_15,_16;if(typeof _12!=="object"){_16=_15=_12;}else{if(typeof _12.top==="function"){_15=_12.top();}else{_15=_12.top||0;}if(typeof _12.bottom==="function"){_16=_12.bottom();}else{_16=_12.bottom||0;}}_14=this.unpin!==null&&(_11+this.unpin<=_f.y)?false:_16!==null&&(_f.y+_f.h>=_10-_16)?"bottom":_15!==null&&_11<=_15?"top":false;if(this.affixed===_14){return;}this.affixed=_14;this.unpin=_14==="bottom"?_f.y-_11:null;_3(this.domNode).removeClass(_13).addClass("affix"+(_14?"-"+_14:""));}});_4.extend(_3.NodeList,{affix:function(_17){var _18=(_4.isObject(_17))?_17:{};return this.forEach(function(_19){var _1a=_1.getData(_19,"affix");if(!_1a){_1.setData(_19,"affix",(_1a=new _c(_19,_18)));}if(_4.isString(_17)){_1a[_17].call(_1a);}});}});_3(_b).forEach(function(_1b){var _1c=_1.getData(_1b);_1c.offset=_1c.offset||{};if(_1c["offset-bottom"]){_1c.offset.bottom=_1c["offset-bottom"];}if(_1c["offset-top"]){_1c.offset.top=_1c["offset-top"];}_3(_1b).affix(_1c);});return _c;});