//>>built
define("bootstrap/Collapse",["./Support","dojo/_base/declare","dojo/query","dojo/_base/lang","dojo/_base/window","dojo/on","dojo/dom-class","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/NodeList-dom","dojo/NodeList-traverse","dojo/domReady!"],function(_1,_2,_3,_4,_5,on,_6,_7,_8,_9){"use strict";var _a="[data-toggle=collapse]";var _b=_2([],{defaultOptions:{toggle:true},constructor:function(_c,_d){this.options=_4.mixin(_4.clone(this.defaultOptions),(_d||{}));this.domNode=_c;this.transitioning=null;if(this.options.parent){this.parent=_3(this.options.parent);}if(this.options.toggle){this.toggle();}},dimension:function(){return _6.contains(this.domNode,"width")?"width":"height";},show:function(){var _e,_f,_10,_11;if(this.transitioning||_6.con){return;}if(this.parent&&this.options.target){_3("[data-target="+this.options.target+"]",this.parent[0]).forEach(function(el){_6.remove(el,"collapsed");});}_e=this.dimension();_f=_1.toCamel(["scroll",_e].join("-"));_10=this.parent&&_3("> .panel > .in",this.parent[0]);if(_10&&_10.length){_11=_1.getData(_10[0],"collapse");if(_11&&_11.transitioning){return;}_10.collapse("hide");if(!_11){_1.setData(_10[0],"collapse",null);}}_9.set(this.domNode,_e,"0px");this.transition("add","show","shown");if(_1.trans){_9.set(this.domNode,_e,this.domNode[_f]+"px");}},hide:function(){if(this.transitioning||!_6.contains(this.domNode,"in")){return;}if(this.parent&&this.options.target){_3("[data-target="+this.options.target+"]",this.parent[0]).forEach(function(el){_6.add(el,"collapsed");});}var _12=this.dimension();this.reset(_9.get(this.domNode,_12));this.transition("remove","hide","hidden");_9.set(this.domNode,_12,"0px");},reset:function(_13){_13=_13?parseFloat(_13,10)+"px":"auto";var _14=this.dimension();_6.remove(this.domNode,"collapse");_9.set(this.domNode,_14,_13);this._offsetWidth=this.domNode.offsetWidth;_6[(_13!==null?"add":"remove")](this.domNode,"collapse");return this;},transition:function(_15,_16,_17){var _18=_4.hitch(this,function(){if(_16==="show"){this.reset();}this.transitioning=0;if(_15==="add"){_6.add(this.domNode,"in");}else{if(_15==="remove"){_6.add(this.domNode,"collapse");}}_6.remove(this.domNode,"collapsing");on.emit(this.domNode,_17+".bs.collapse",{bubbles:false,cancelable:false});});on.emit(this.domNode,_16+".bs.collapse",{bubbles:false,cancelable:false});_6.remove(this.domNode,"collapse");_6.add(this.domNode,"collapsing");if(_15==="remove"){_6.remove(this.domNode,"in");}this.transitioning=1;if(_1.trans){on.once(this.domNode,_1.trans.end,_18);_1.emulateTransitionEnd(this.domNode,350);}else{_18();}},toggle:function(){this[_6.contains(this.domNode,"in")?"hide":"show"]();}});_4.extend(_3.NodeList,{collapse:function(_19){var _1a=(_4.isObject(_19))?_19:false;return this.forEach(function(_1b){var _1c=_1.getData(_1b,"collapse");if(!_1c){_1.setData(_1b,"collapse",(_1c=new _b(_1b,_1a)));}if(_4.isString(_19)){_1c[_19].call(_1c);}});}});on(_5.body(),on.selector(_a,"click"),function(e){var _1d=this;if(_1.getData(_1d,"toggle")!=="collapse"){_1d=_3(this).closest("[data-toggle=collapse]")[0];}if(_1d){var _1e=_7.get(_1d,"data-target")||e.preventDefault()||_1.hrefValue(_1d);if(_1e){var _1f=_1.getData(_1e,"collapse")?"toggle":_1.getData(_1d);_3(_1e).collapse(_1f);}}});return _b;});